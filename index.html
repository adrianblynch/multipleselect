<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>MultipleSelect</title>
	<link rel="stylesheet" href="multipleselect.css" />
	<script type="text/javascript" src="jquery-1.8.3.min.js"></script>
	<script type="text/javascript" src="multipleselect.js"></script>
	<script>
		$(function() {

			var mySelect = $("select");
			var myMS =  new MultipleSelect(mySelect);

			$("#showValues").click(function(e) {
				e.preventDefault();
				console.log(mySelect.val());
			});

			$("#addOption").click(function(e) {
				e.preventDefault();
				var n = $("option", mySelect).length + 1;
				var option = "<option value='" + n + "'>Option " + n + "</option>";
				mySelect.append(option);
				myMS.refresh();
			});

			$("#showHideSelect").click(function(e) {
				e.preventDefault();
				mySelect.toggle();
			});

		});
	</script>
</head>
<body>

	<h1>MultipleSelect Examples</h1>

	<form>
		<select multiple="multiple">
			<option value="1">Option 1</option>
			<option value="2">Option 2</option>
			<option value="3" selected="selected">Option 3</option>
			<option value="4" selected="selected">Option 4</option>
			<option value="5">Option 5</option>
			<option value="6">Option 6</option>
		</select>
		<button id="showValues">Show selected values</button><br />
		<button id="addOption">Add another option</button><br />
		<button id="showHideSelect">Show/Hide underlying select</button><br />
	</form>

</body>
</html>

<!--
<script>
	$(function() {

		var users = $("select[name='users']");
		var usersMS =  new MultipleSelect(users);
		var userSearch = $("input[name='userSearch']")

		userSearch.keyup(function(e) {

			var value = e.target.value;

			if (value.length < 1) {
				return false;
			}

			if (keyup.cache[value] == null) {

				var req = $.ajax({
					url: "data.json",
					dataType: "json",
					data: {
						searchTerm: value
					}
				});

				req.done(function(res) {

					// Remove non-selected options
					$("option:not(:selected)", users).remove();

					$.each(res, function(i, obj) {
						usersMS.addOption(obj.id, obj.title);
					});

					usersMS.refresh();

				});

			}

		});

		$("#getThemIDs").click(function(e) {
			e.preventDefault();
			console.log("The chosen ones are...", users.val());
		})

	});
</script>

<h2>Jobs/Users/Whatevers Search</h2>

<div id="daSelector">
	<h3 class="selectable">Available jobs</h3>
	<h3 class="selected">Selected jobs</h3>
	<div style="overflow: hidden; float:left; width: 100%;">
		<input type="text" name="userSearch" autocomplete="off" placeholder="Search for jobs with titles here..." style="width: 300px;" />
	</div>
	<select name="users" multiple="multiple"></select>
</div>

<div>
	<button id="getThemIDs">Which ones are selected?</button>
</div>
-->